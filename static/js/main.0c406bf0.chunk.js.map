{"version":3,"sources":["components/components.js","pages/HomePage/index.js","pages/about/index.js","WebAPI.js","context.js","pages/login/index.js","pages/register/index.js","components/Headers/index.js","pages/post/index.js","pages/single-post/index.js","pages/all-post/index.js","App.js","reportWebVitals.js","index.js"],"names":["FormContainer","styled","div","Form","FormTitle","h1","Button","a","Input","input","handleInputChange","isPassword","label","placeholder","name","value","onChange","type","undefined","PostContainer","PostTitle","h2","NewPostInputContainer","PostContent","p","Post","post","time","Date","createdAt","toLocaleString","style","paddingBottom","borderBottom","width","title","body","to","id","cursor","color","NewPost","postContent","handlePostChange","handleAddNewPost","errorMessage","justifyContent","height","marginTop","e","as","content","margin","display","padding","borderRadius","onClick","ControlPanel","FlexContainer","ActivePage","PageLinks","Link","PageController","currentPage","totalPostCount","pageCount","Math","floor","Home","About","Base_URL","AuthContext","createContext","Login","isLoading","history","useHistory","setIsLogin","useContext","useState","inputs","setInputs","obj","forEach","target","map","index","username","password","fetch","method","headers","JSON","stringify","then","res","json","login","ok","localStorage","setItem","token","push","Register","nickname","SignUp","Navbar","Container","NavLinks","Brand","ALink","props","active","NavLink","exact","match","useRouteMatch","path","Header","isLogin","useEffect","userToken","getItem","authorization","getMe","data","setPostContent","setErrorMessage","tag","addPost","message","SinglePost","slug","useParams","postValue","setPostValue","lineHeight","AllPost","setIsLoading","posts","setPosts","page","setTotalPostCount","getThatPage","Number","entries","header","window","scrollTo","App","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c406bf0.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const FormContainer = styled.div`\n  max-width: 800px;\n  min-height: 600px;\n  margin: 20px auto;\n  border: 1px solid #ccc;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n`;\nexport const Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  div + div {\n    margin-top: 30px;\n  }\n`;\nexport const FormTitle = styled.h1`\n  text-align: left;\n  margin-top: 0;\n`;\nexport const Button = styled.a`\n  display: block;\n  text-align: center;\n  background: #ddd;\n  padding: 5px;\n  border: none;\n  margin-top: 30px;\n  transition: all 0.3s;\n  font-size: 16px;\n  :hover {\n    cursor: pointer;\n    background: white;\n  }\n`;\nexport const Input = ({ input, handleInputChange }) => {\n  let isPassword = false;\n  if (input.label === \"Password\") isPassword = true;\n  return (\n    <div>\n      <div>{input.label}:</div>\n      <input\n        placeholder={`您的 ${input.label}`}\n        name={input.label}\n        value={input.value}\n        onChange={handleInputChange}\n        type={isPassword === true ? \"password\" : undefined}\n      />\n    </div>\n  );\n};\nexport const PostContainer = styled.div`\n  max-width: 70%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  div + div {\n    margin-top: 30px;\n  }\n`;\nexport const PostTitle = styled.h2`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\nconst NewPostInputContainer = styled.div`\n  display: flex;\n  width: 100%;\n  align-items: center;\n`;\nconst PostContent = styled.p`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 30px;\n`;\nexport const Post = ({ post }) => {\n  const time = new Date(post.createdAt).toLocaleString();\n  return (\n    <div\n      style={{\n        paddingBottom: \"20px\",\n        borderBottom: \"1px solid #ccc\",\n        width: \"60%\",\n      }}\n    >\n      <PostTitle>{post.title}</PostTitle>\n      <div>{time}</div>\n      <PostContent>{post.body}</PostContent>\n      <Link\n        to={`/posts/${post.id}`}\n        style={{ cursor: \"pointer\", color: \"black\" }}\n      >\n        繼續閱讀\n      </Link>\n    </div>\n  );\n};\nexport const NewPost = ({\n  postContent,\n  handlePostChange,\n  handleAddNewPost,\n  errorMessage,\n}) => {\n  return (\n    <FormContainer style={{ justifyContent: \"flex-start\", height: \"100%\" }}>\n      <FormTitle style={{ marginTop: \"30px\" }}>新增文章</FormTitle>\n      <Form\n        style={{\n          width: \"90%\",\n          height: \"100%\",\n          justifyContent: \"center\",\n        }}\n      >\n        <NewPostInputContainer>\n          <h3>文章標題：</h3>\n          <input\n            style={{ height: \"29px\" }}\n            placeholder=\"標題\"\n            value={postContent.title}\n            onChange={(e) => {\n              handlePostChange(e, \"title\");\n            }}\n          />\n        </NewPostInputContainer>\n        <FormTitle as=\"h3\">文章內容</FormTitle>\n        <textarea\n          value={postContent.content}\n          style={{\n            margin: \"0 auto\",\n            height: \"230px\",\n            width: \"80%\",\n          }}\n          onChange={(e) => {\n            handlePostChange(e, \"content\");\n          }}\n        />\n        <div\n          style={{ display: \"visibility\", margin: \"10px auto\", color: \"red\" }}\n        >\n          {errorMessage}\n        </div>\n        <Button\n          style={{\n            margin: \"30px auto\",\n            padding: \"10px\",\n            width: \"70px\",\n            borderRadius: \"3px\",\n          }}\n          onClick={handleAddNewPost}\n        >\n          新增\n        </Button>\n      </Form>\n    </FormContainer>\n  );\n};\nconst ControlPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  margin-top: 80px;\n`;\nconst FlexContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 35px;\n  div + div {\n    margin-left: 20px;\n  }\n  a + a {\n    margin-left: 20px;\n  }\n`;\nconst ActivePage = styled.div`\n  border-radius: 50%;\n  height: 30px;\n  width: 30px;\n  margin: 0 20px;\n  text-align: center;\n  line-height: 30px;\n  background-color: #ddd;\n  color: black;\n`;\nconst PageLinks = styled(Link)`\n  color: black;\n  text-decoration: none;\n  :hover {\n    text-decoration: underline;\n  }\n`;\nexport const PageController = ({ currentPage, totalPostCount }) => {\n  let pageCount = Math.floor(totalPostCount / 5);\n  if (totalPostCount % 5 !== 0) pageCount += 1;\n  return (\n    <ControlPanel>\n      <FlexContainer>\n        {currentPage === 1 ? (\n          \"\"\n        ) : (\n          <PageLinks to={`/all-post/${currentPage - 1}`}>上一頁</PageLinks>\n        )}\n        {currentPage - 2 >= 1 ? (\n          <PageLinks to={`/all-post/${currentPage - 2}`}>\n            {currentPage - 2}\n          </PageLinks>\n        ) : (\n          \"\"\n        )}\n        {currentPage - 1 >= 1 ? (\n          <PageLinks to={`/all-post/${currentPage - 1}`}>\n            {currentPage - 1}\n          </PageLinks>\n        ) : (\n          \"\"\n        )}\n        <ActivePage>{currentPage}</ActivePage>\n        {pageCount - currentPage >= 1 ? (\n          <PageLinks to={`/all-post/${currentPage + 1}`}>\n            {currentPage + 1}\n          </PageLinks>\n        ) : (\n          \"\"\n        )}\n        {pageCount - currentPage >= 2 ? (\n          <PageLinks to={`/all-post/${currentPage + 2}`}>\n            {currentPage + 2}\n          </PageLinks>\n        ) : (\n          \"\"\n        )}\n        <PageLinks to={`/all-post/${currentPage + 1}`}>下一頁</PageLinks>\n      </FlexContainer>\n      <FlexContainer>\n        {currentPage !== 1 ? (\n          <PageLinks to={`/all-post/1`}>第一頁</PageLinks>\n        ) : (\n          \"\"\n        )}\n        {currentPage !== pageCount ? (\n          <PageLinks to={`/all-post/${pageCount}`}>最後一頁</PageLinks>\n        ) : (\n          \"\"\n        )}\n      </FlexContainer>\n    </ControlPanel>\n  );\n};\n","import { PostContainer } from \"../../components/components\";\n\nexport default function Home() {\n  return (\n    <PostContainer>\n      <h1>哈囉～你來到首頁</h1>\n      <p>這裡是首頁，但我不知道放什麼。要看文章請去所有文章～</p>\n    </PostContainer>\n  );\n}\n","import { PostContainer } from \"../../components/components\";\n\nexport default function About() {\n  return (\n    <PostContainer>\n      <h1>關於我</h1>\n      <p>如有雷同，純屬抄襲。</p>\n    </PostContainer>\n  );\n}\n","const Base_URL = \"https://student-json-api.lidemy.me\";\n\nexport const getPosts = () => {\n  return fetch(`${Base_URL}/posts?_sort=createdAt&_order=desc&_limit=5`).then(\n    (res) => {\n      return res.json();\n    }\n  );\n};\nexport const SignUp = (nickname, username, password) => {\n  return fetch(`${Base_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\nexport const login = (username, password) => {\n  return fetch(`${Base_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\nexport const getMe = () => {\n  const userToken = localStorage.getItem(\"user_token\");\n  return fetch(`${Base_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${userToken}`,\n    },\n  }).then((res) => res.json());\n};\nexport const addPost = (title, body) => {\n  const userToken = localStorage.getItem(\"user_token\");\n  return fetch(`${Base_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${userToken}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getSinglePost = (id) => {\n  return fetch(`${Base_URL}/posts?id=${id}`).then((res) => res.json());\n};\nexport const getThatPage = (page) => {\n  return fetch(\n    `${Base_URL}/posts?_page=${page}&_sort=createdAt&_order=desc&_limit=5`\n  );\n};\n","import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\n","import {\n  FormContainer,\n  Form,\n  FormTitle,\n  Button,\n  Input,\n} from \"../../components/components\";\nimport { useState, useContext } from \"react\";\nimport { login } from \"../../WebAPI\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context\";\n\nexport default function Login() {\n  let isLoading = false;\n  let history = useHistory();\n  const { setIsLogin } = useContext(AuthContext);\n  const [inputs, setInputs] = useState([\n    {\n      label: \"Username\",\n      value: \"\",\n    },\n    {\n      label: \"Password\",\n      value: \"\",\n    },\n  ]);\n  const handleInputChange = (e) => {\n    const obj = [...inputs];\n    obj.forEach((input) => {\n      if (input.label === e.target.name) input.value = e.target.value;\n    });\n    setInputs(obj);\n  };\n  const handleLogin = () => {\n    if (isLoading) return;\n    isLoading = true;\n    const username = inputs[0].value;\n    const password = inputs[1].value;\n    login(username, password).then((res) => {\n      if (res.ok) {\n        localStorage.setItem(\"user_token\", res.token);\n        setIsLogin(true);\n        history.push(\"/\");\n      }\n      isLoading = false;\n    });\n  };\n  return (\n    <FormContainer>\n      <Form>\n        <FormTitle>登入</FormTitle>\n        {inputs.map((input, index) => (\n          <Input\n            key={index}\n            input={input}\n            handleInputChange={handleInputChange}\n          />\n        ))}\n        <Button onClick={handleLogin}>提交</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import { useState } from \"react\";\nimport { SignUp } from \"../../WebAPI\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  FormContainer,\n  Form,\n  FormTitle,\n  Button,\n  Input,\n} from \"../../components/components\";\n\nexport default function Register() {\n  let isLoading = false;\n  let history = useHistory();\n  const [inputs, setInputs] = useState([\n    {\n      label: \"Nickname\",\n      value: \"\",\n    },\n    {\n      label: \"Username\",\n      value: \"\",\n    },\n    {\n      label: \"Password\",\n      value: \"\",\n    },\n  ]);\n  const handleInputChange = (e) => {\n    const obj = [...inputs];\n    obj.forEach((input) => {\n      if (input.label === e.target.name) input.value = e.target.value;\n    });\n    setInputs(obj);\n  };\n  const handleRegister = () => {\n    if (isLoading) return;\n    isLoading = true;\n    const nickname = inputs[0].value;\n    const username = inputs[1].value;\n    const password = inputs[2].value;\n    SignUp(nickname, username, password).then((res) => {\n      if (res.ok) {\n        history.push(\"/login\");\n      }\n      isLoading = false;\n    });\n  };\n  return (\n    <FormContainer>\n      <Form>\n        <FormTitle>註冊</FormTitle>\n        {inputs.map((input, index) => (\n          <Input\n            key={index}\n            input={input}\n            handleInputChange={handleInputChange}\n          />\n        ))}\n        <Button onClick={handleRegister}>提交</Button>\n      </Form>\n    </FormContainer>\n  );\n}\n","import styled from \"styled-components\";\nimport { Link, useRouteMatch, useHistory } from \"react-router-dom\";\nimport { useEffect, useContext } from \"react\";\nimport \"./index.css\";\nimport { getMe } from \"../../WebAPI\";\nimport { AuthContext } from \"../../context\";\nconst Navbar = styled.div`\n  width: 100%;\n  height: 55px;\n  border-bottom: 1px solid #dbdbdb;\n`;\nconst Container = styled.div`\n  max-width: 1200px;\n  height: 100%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\nconst NavLinks = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  a + a {\n    margin-left: 30px;\n  }\n  div + a {\n    margin-left: 30px;\n  }\n`;\nconst Brand = styled.div`\n  font-weight: 600;\n  font-size: 24px;\n`;\nconst ALink = styled(Link)`\n  display: block;\n  height: 100%;\n  line-height: 54px;\n  text-decoration: none;\n  padding: 0 10px;\n  color: black;\n  background-color: ${(props) => (props.active ? \"#ccc\" : \"\")};\n  :hover {\n    cursor: pointer;\n  }\n`;\nfunction NavLink({ label, to, exact }) {\n  let match = useRouteMatch({\n    path: to,\n    exact,\n  });\n  return (\n    <ALink to={to} label={label} active={match && \"true\"}>\n      {label}\n    </ALink>\n  );\n}\n\nexport default function Header() {\n  const { isLogin, setIsLogin } = useContext(AuthContext);\n  const history = useHistory();\n  useEffect(() => {\n    getMe().then((data) => {\n      if (!data.ok) {\n        setIsLogin(false);\n        localStorage.setItem(\"user_token\", null);\n      }\n      if (data.ok) setIsLogin(true);\n    });\n  }, []);\n  function handleLogout() {\n    setIsLogin(false);\n    localStorage.setItem(\"user_token\", \"\");\n    history.push(\"/\");\n  }\n  return (\n    <Navbar>\n      <Container>\n        <NavLinks>\n          <Brand>\b\bRich</Brand>\n          <NavLink exact={true} to=\"/\" label={\"首頁\"} />\n          <NavLink to=\"/all-post/1\" label={\"所有文章\"} />\n          <NavLink to=\"/about\" label={\"About\"} />\n        </NavLinks>\n        <NavLinks>\n          {!isLogin && <NavLink to=\"/login\" label={\"登入\"} />}\n          {!isLogin && <NavLink to=\"/register\" label={\"註冊\"} />}\n          {isLogin && (\n            <ALink as={\"div\"} onClick={handleLogout}>\n              登出\n            </ALink>\n          )}\n          {isLogin && <NavLink to=\"/add-post\" label={\"發表文章\"} />}\n        </NavLinks>\n      </Container>\n    </Navbar>\n  );\n}\n","import { NewPost } from \"../../components/components\";\nimport { useState } from \"react\";\nimport { addPost } from \"../../WebAPI\";\nimport { useHistory } from \"react-router-dom\";\nexport default function Post() {\n  let isLoading = false;\n  const history = useHistory();\n  const [postContent, setPostContent] = useState({\n    title: \"\",\n    content: \"\",\n  });\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const handlePostChange = (e, tag) => {\n    const obj = { ...postContent };\n    obj[tag] = e.target.value;\n    setPostContent(obj);\n  };\n  const handleAddNewPost = () => {\n    if (isLoading) return;\n    isLoading = true;\n    if (postContent.title === \"\" || postContent.content === \"\") {\n      setErrorMessage(\"文章標題或內容不得為空\");\n      return;\n    }\n    addPost(postContent.title, postContent.content).then((data) => {\n      if (data.ok === 0) {\n        setErrorMessage(data.message);\n        return;\n      }\n      isLoading = false;\n      history.push(\"/\");\n    });\n  };\n  return (\n    <NewPost\n      handlePostChange={handlePostChange}\n      postContent={postContent}\n      handleAddNewPost={handleAddNewPost}\n      errorMessage={errorMessage}\n    />\n  );\n}\n","import { PostContainer, PostTitle } from \"../../components/components\";\nimport { useParams } from \"react-router\";\nimport { useState, useEffect } from \"react\";\nimport { getSinglePost } from \"../../WebAPI\";\nexport default function SinglePost() {\n  let slug = useParams();\n  const [postValue, setPostValue] = useState({\n    title: \"\",\n    time: \"\",\n    content: \"\",\n  });\n  useEffect(() => {\n    getSinglePost(slug.id).then((data) => {\n      data = data[0];\n      const time = new Date(data.createdAt).toLocaleString();\n      setPostValue({\n        title: data.title,\n        time,\n        content: data.body,\n      });\n    });\n  }, []);\n  return (\n    <PostContainer>\n      <PostTitle>{postValue.title}</PostTitle>\n      <div>{postValue.time}</div>\n      <p style={{ lineHeight: \"30px\" }}>{postValue.content}</p>\n    </PostContainer>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { getThatPage } from \"../../WebAPI\";\nimport { useParams } from \"react-router\";\n\nimport {\n  PageController,\n  PostContainer,\n  Post,\n} from \"../../components/components\";\n\nexport default function AllPost() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [posts, setPosts] = useState([]);\n  const { page } = useParams();\n  const [totalPostCount, setTotalPostCount] = useState(\"\");\n  useEffect(() => {\n    getThatPage(Number(page))\n      .then((res) => {\n        for (let header of res.headers.entries()) {\n          if (header[0] === \"x-total-count\") {\n            setTotalPostCount(Number(header[1]));\n          }\n        }\n        return res.json();\n      })\n      .then((res) => {\n        setPosts(res);\n        setIsLoading(false);\n      });\n  }, [page]);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [posts]);\n  return (\n    <PostContainer>\n      {posts.map((post, index) => {\n        return <Post key={index} post={post} />;\n      })}\n      {!isLoading && (\n        <PageController\n          currentPage={Number(page)}\n          totalPostCount={totalPostCount}\n        />\n      )}\n    </PostContainer>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/HomePage\";\nimport About from \"./pages/about\";\nimport Login from \"./pages/login\";\nimport Register from \"./pages/register\";\nimport Header from \"./components/Headers\";\nimport Post from \"./pages/post\";\nimport { AuthContext } from \"./context\";\nimport SinglePost from \"./pages/single-post\";\nimport AllPost from \"./pages/all-post\";\n\nexport default function App() {\n  const [isLogin, setIsLogin] = useState(false);\n  useEffect(() => {\n    if (localStorage.getItem(\"user_token\")) {\n      setIsLogin(true);\n    }\n  }, []);\n  return (\n    <Router>\n      <AuthContext.Provider value={{ isLogin, setIsLogin }}>\n        <div>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/all-post/:page\">\n              <AllPost />\n            </Route>\n            <Route path=\"/about\">\n              <About />\n            </Route>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"/register\">\n              <Register />\n            </Route>\n            <Route path=\"/add-post\">\n              <Post />\n            </Route>\n            <Route path=\"/posts/:id\">\n              <SinglePost />\n            </Route>\n          </Switch>\n        </div>\n      </AuthContext.Provider>\n    </Router>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}